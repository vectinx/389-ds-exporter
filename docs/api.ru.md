# 389-ds-exporter API

Экспортер реализует следующие API-эндпоинты:

## /metrics

Основной эндпоинт экспортера. Возвращает метрики в формате Prometheus.
> `/metrics` — это путь по умолчанию, но его можно изменить в конфигурации. Подробнее см. в [config.md](config.md).

## /up

Простой эндпоинт для проверки доступности экспортера.
Он не предоставляет информации о статусе соединения или внутреннем состоянии — просто отвечает на запросы, если приложение запущено.

## /health

Эндпоинт для проверки готовности экспортера.
При обращении к нему экспортер выполняет проверку LDAP-соединения и возвращает ответ в формате JSON.

В случае успешного соединения:
```json
{
  "status": {
    "ldap": "ok"
  },
  "timestamp": "2025-09-18T12:52:03Z",
  "uptime_seconds": 1893
}
```

В случае ошибки соединения:
```json
{
  "status": {
    "ldap": "unavailable"
  },
  "timestamp": "2025-09-18T12:52:03Z",
  "uptime_seconds": 1893
}
```
